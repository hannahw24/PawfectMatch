[[extend 'layout.html']]

<style>
    [v-cloak] {
         display: none;
    }
</style>

<div class="section" id="vue-target" v-cloak style="padding-left: 5%; padding-right: 5%;">
    <div class="title has-text-centered">
        Start Swiping
    </div>
    
    <!-- <a id="dislike_button" class="button is-info" @click="no_match()">
        <i class="fa fa-times"></i>&nbsp; No Match!
    </a>
    <a id="like_button" class="button is-danger" @click="match()">
        <i class="fa fa-heart"></i>&nbsp; Match!
    </a> -->

    <a id="API_button" class="button is-success" @click="get_test()">
        <i class="fa fa-paw"></i>&nbsp; API TEST!
    </a>
    
    <br>
    IF THE BELOW FIELDS ARE EMPTY, CLICK API TEST
    <!-- <a id="init_button" class="button is-warning" @click="get_init()">
        <i class="fa fa-paw"></i>&nbsp; INIT!
    </a> -->
    <div class="columns"> 
        <div class="column is-1">
            <a id="dislike_button" class="button is-info" @click="no_match()">
                <i class="fa fa-times"></i>&nbsp; No Match!
            </a>
        </div>
        <div class="column is-10" style="padding-left: 50px;">
            <!-- CURRENT PUP CARD DISPLAYED -->
            <div v-if="!api_loading" class="container block">
                <br>
                <div v-for="p in pup_cards">
                    <div v-if="disp_cards_idx == p._idx" class="box notification">
                        <strong><p class="is-size-1-desktop">{{p.name}}</p></strong>
                        <div class="columns">
                            <div class="column is-two-thirds">
                                <div class="box notification">
                                    <figure class="image">
                                        <img style="max-height: 600px;" v-bind:src="p.image" alt="photto">
                                    </figure>
                                </div>
                            </div>

                            <div class="column is-one-third">
                                <!-- <p class="info_box"> Index: {{p._idx}} </p> -->

                                <p class="info_box subtitle"> Breed: {{p.breed}} </p>
                                <p class="info_box subtitle"> Gender: {{p.gender}} </p>
                                <p class="info_box subtitle"> Age: {{p.age}} </p>
            
                                <p class="info_box subtitle"> Size: {{p.size}} </p>
                                <p class="info_box subtitle"> Fur: {{p.fur}} </p>

                                <p class="info_box subtitle"> Potty Trained: {{p.potty}} </p>
                                <p class="info_box subtitle"> Kid Friendly: {{p.kid}} </p>

                                <p class="info_box"> Distance: {{p.location}} </p>
                                <!-- <p class="info_box"> Url: {{p.url}} </p> -->
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div v-if="api_loading" class="container block">
                <br>
                <div>
                    loading more doggos... <br>
                    <!-- <i class="fa fa-spinner fa-spin" style="font-size:xxx-large; color:red" ></i> -->
                    <img src="https://cdn.dribbble.com/users/115601/screenshots/4238006/doggy.gif"></img>
                </div>
            </div>

        </div>
        <div class="column is-1">
            <a id="like_button" class="button is-danger" @click="match()">
                <i class="fa fa-heart"></i>&nbsp; Match!
            </a>
        </div>
        
    </div>
</div>

<script>
    let set_curr_dogs_url = "[[=XML(set_curr_dogs_url)]]";
    let get_curr_dogs_url = "[[=XML(get_curr_dogs_url)]]"; 
    let update_idx_url = "[[=XML(update_idx_url)]]";  
    let get_user_idx_url = "[[=XML(get_user_idx_url)]]";
    let add_match_url = "[[=XML(add_match_url)]]"  
</script>

<script src="js/sugar.min.js"></script>
<script src="js/axios.min.js"></script>
<script src="js/vue.js"></script>
<script src="js/index.js"></script>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/@petfinder/petfinder-js/dist/petfinder.min.js"></script>